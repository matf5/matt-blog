<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Qwik 核心思想 | matt的前端之路</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/matt-blog/cainiao.jpg">
    <meta name="description" content="matt的前端之路">
    
    <link rel="preload" href="/matt-blog/assets/css/0.styles.67df34d8.css" as="style"><link rel="preload" href="/matt-blog/assets/js/app.71e86090.js" as="script"><link rel="preload" href="/matt-blog/assets/js/2.778bb4ad.js" as="script"><link rel="preload" href="/matt-blog/assets/js/1.f8bb34da.js" as="script"><link rel="preload" href="/matt-blog/assets/js/31.1d76566f.js" as="script"><link rel="prefetch" href="/matt-blog/assets/js/10.fde088a2.js"><link rel="prefetch" href="/matt-blog/assets/js/11.c62b6b34.js"><link rel="prefetch" href="/matt-blog/assets/js/12.27d4f152.js"><link rel="prefetch" href="/matt-blog/assets/js/13.3f3f6a36.js"><link rel="prefetch" href="/matt-blog/assets/js/14.eb7a3d07.js"><link rel="prefetch" href="/matt-blog/assets/js/15.114dfd5c.js"><link rel="prefetch" href="/matt-blog/assets/js/16.85253907.js"><link rel="prefetch" href="/matt-blog/assets/js/17.c2838453.js"><link rel="prefetch" href="/matt-blog/assets/js/18.3256f17f.js"><link rel="prefetch" href="/matt-blog/assets/js/19.d8afd0ae.js"><link rel="prefetch" href="/matt-blog/assets/js/20.0d880388.js"><link rel="prefetch" href="/matt-blog/assets/js/21.33b300c9.js"><link rel="prefetch" href="/matt-blog/assets/js/22.b7c97fbe.js"><link rel="prefetch" href="/matt-blog/assets/js/23.4db98f57.js"><link rel="prefetch" href="/matt-blog/assets/js/24.d02ac95a.js"><link rel="prefetch" href="/matt-blog/assets/js/25.2773990a.js"><link rel="prefetch" href="/matt-blog/assets/js/26.3f9a83a0.js"><link rel="prefetch" href="/matt-blog/assets/js/27.76956e48.js"><link rel="prefetch" href="/matt-blog/assets/js/28.d91bf143.js"><link rel="prefetch" href="/matt-blog/assets/js/29.a466f468.js"><link rel="prefetch" href="/matt-blog/assets/js/3.af33e5d6.js"><link rel="prefetch" href="/matt-blog/assets/js/30.22bee9f6.js"><link rel="prefetch" href="/matt-blog/assets/js/32.c4bb4de8.js"><link rel="prefetch" href="/matt-blog/assets/js/33.519c9cbd.js"><link rel="prefetch" href="/matt-blog/assets/js/34.88ebc733.js"><link rel="prefetch" href="/matt-blog/assets/js/35.eff53b64.js"><link rel="prefetch" href="/matt-blog/assets/js/36.82f9ebe4.js"><link rel="prefetch" href="/matt-blog/assets/js/37.159089ca.js"><link rel="prefetch" href="/matt-blog/assets/js/38.ed6658c8.js"><link rel="prefetch" href="/matt-blog/assets/js/39.aad63f87.js"><link rel="prefetch" href="/matt-blog/assets/js/4.45665f8a.js"><link rel="prefetch" href="/matt-blog/assets/js/40.039f9789.js"><link rel="prefetch" href="/matt-blog/assets/js/41.2a8e9d15.js"><link rel="prefetch" href="/matt-blog/assets/js/42.a714b810.js"><link rel="prefetch" href="/matt-blog/assets/js/43.10b4130b.js"><link rel="prefetch" href="/matt-blog/assets/js/44.59650f89.js"><link rel="prefetch" href="/matt-blog/assets/js/45.96e83476.js"><link rel="prefetch" href="/matt-blog/assets/js/46.53181746.js"><link rel="prefetch" href="/matt-blog/assets/js/47.fdee3dd3.js"><link rel="prefetch" href="/matt-blog/assets/js/48.5fb19d7f.js"><link rel="prefetch" href="/matt-blog/assets/js/49.5e450d62.js"><link rel="prefetch" href="/matt-blog/assets/js/5.7098d77a.js"><link rel="prefetch" href="/matt-blog/assets/js/50.3dee0a22.js"><link rel="prefetch" href="/matt-blog/assets/js/51.7403a464.js"><link rel="prefetch" href="/matt-blog/assets/js/52.39fbb785.js"><link rel="prefetch" href="/matt-blog/assets/js/53.1750e5fe.js"><link rel="prefetch" href="/matt-blog/assets/js/54.6154a915.js"><link rel="prefetch" href="/matt-blog/assets/js/55.67d3b7c1.js"><link rel="prefetch" href="/matt-blog/assets/js/6.0c0a0f39.js"><link rel="prefetch" href="/matt-blog/assets/js/7.6a854e57.js"><link rel="prefetch" href="/matt-blog/assets/js/vendors~docsearch.5e19b665.js">
    <link rel="stylesheet" href="/matt-blog/assets/css/0.styles.67df34d8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/matt-blog/" class="home-link router-link-active"><img src="/matt-blog/cainiao.jpg" alt="matt的前端之路" class="logo"> <span class="site-name can-hide">matt的前端之路</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>hybrid</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mini-program</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>performance</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>项目经验剖析</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>qwik</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/matt-blog/pages/qwik/" aria-current="page" class="sidebar-link">Qwik 框架学习指南</a></li><li><a href="/matt-blog/pages/qwik/qwik-core-concepts.html" aria-current="page" class="active sidebar-link">Qwik 核心思想</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/matt-blog/pages/qwik/qwik-core-concepts.html#_1-resumable-可恢复性" class="sidebar-link">1. Resumable (可恢复性)</a></li><li class="sidebar-sub-header"><a href="/matt-blog/pages/qwik/qwik-core-concepts.html#_2-progressive-渐进式" class="sidebar-link">2. Progressive (渐进式)</a></li><li class="sidebar-sub-header"><a href="/matt-blog/pages/qwik/qwik-core-concepts.html#_3-reactivity-响应式" class="sidebar-link">3. Reactivity (响应式)</a></li><li class="sidebar-sub-header"><a href="/matt-blog/pages/qwik/qwik-core-concepts.html#三大核心思想的协作" class="sidebar-link">三大核心思想的协作</a></li></ul></li><li><a href="/matt-blog/pages/qwik/qwik-extension-tools.html" class="sidebar-link">Qwik 拓展工具</a></li><li><a href="/matt-blog/pages/qwik/qwik-introduction.html" class="sidebar-link">Qwik 介绍</a></li><li><a href="/matt-blog/pages/qwik/qwik-optimizer.html" class="sidebar-link">Qwik Optimizer</a></li><li><a href="/matt-blog/pages/qwik/qwik-principles.html" class="sidebar-link">Qwik 原理</a></li><li><a href="/matt-blog/pages/qwik/summary.html" class="sidebar-link">学习总结</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react-native</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>rust</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>xiaochengxu</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="qwik-核心思想"><a href="#qwik-核心思想" class="header-anchor">#</a> Qwik 核心思想</h1> <p>Qwik 的核心理念建立在三大支柱之上：<strong>Resumable</strong>（可恢复性）、<strong>Progressive</strong>（渐进式）、<strong>Reactivity</strong>（响应式）。</p> <h2 id="_1-resumable-可恢复性"><a href="#_1-resumable-可恢复性" class="header-anchor">#</a> 1. Resumable (可恢复性)</h2> <h3 id="传统的-hydration-水合"><a href="#传统的-hydration-水合" class="header-anchor">#</a> 传统的 Hydration (水合)</h3> <p>传统的 SSR 框架需要经过以下步骤：</p> <ol><li>从服务端获取 HTML</li> <li>根据 HTML 下载所有的 JavaScript</li> <li>解析和执行 JavaScript</li> <li>恢复状态和绑定事件</li></ol> <p>这个过程被称为&quot;水合&quot;（Hydration），但它有明显的性能瓶颈：</p> <div class="language-mermaid extra-class"><pre class="language-mermaid"><code><span class="token keyword">graph</span> TD
    A<span class="token text string">[获取 HTML]</span> <span class="token arrow operator">--&gt;</span> B<span class="token text string">[下载 JavaScript]</span>
    B <span class="token arrow operator">--&gt;</span> C<span class="token text string">[解析 JavaScript]</span>
    C <span class="token arrow operator">--&gt;</span> D<span class="token text string">[执行 JavaScript]</span>
    D <span class="token arrow operator">--&gt;</span> E<span class="token text string">[绑定事件]</span>
    E <span class="token arrow operator">--&gt;</span> F<span class="token text string">[页面可交互]</span>
</code></pre></div><h3 id="qwik-的-resumable-方式"><a href="#qwik-的-resumable-方式" class="header-anchor">#</a> Qwik 的 Resumable 方式</h3> <p>Qwik 相比传统水合方式的优势：</p> <ul><li><strong>首屏不需要下载所有 JavaScript</strong></li> <li><strong>首屏不需要绑定事件</strong></li> <li><strong>HTML 展示后即可用</strong></li></ul> <div class="language-mermaid extra-class"><pre class="language-mermaid"><code><span class="token keyword">graph</span> TD
    A<span class="token text string">[获取 HTML]</span> <span class="token arrow operator">--&gt;</span> B<span class="token text string">[页面立即可交互]</span>
    B <span class="token arrow operator">--&gt;</span> C<span class="token text string">[用户交互时]</span>
    C <span class="token arrow operator">--&gt;</span> D<span class="token text string">[按需加载对应代码]</span>
</code></pre></div><h2 id="_2-progressive-渐进式"><a href="#_2-progressive-渐进式" class="header-anchor">#</a> 2. Progressive (渐进式)</h2> <h3 id="核心特性"><a href="#核心特性" class="header-anchor">#</a> 核心特性</h3> <ul><li><strong>序列化 (Serialization)</strong>：将状态、事件等信息序列化后保存在 DOM 的 Attribute 中</li> <li><strong>懒加载 (Lazy)</strong>：尽可能地延迟下载执行脚本</li></ul> <h3 id="实现方式"><a href="#实现方式" class="header-anchor">#</a> 实现方式</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 示例：on:click 会标注需要加载的脚本 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./chunk-abc123.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Click me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>等到实际点击时再加载对应脚本，而不是立即绑定事件。</p> <h3 id="序列化机制"><a href="#序列化机制" class="header-anchor">#</a> 序列化机制</h3> <p>Qwik 将应用状态序列化到 HTML 中：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">q:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">q:</span>host</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>qwik/json<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;refs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;ctx&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;objs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;subs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_3-reactivity-响应式"><a href="#_3-reactivity-响应式" class="header-anchor">#</a> 3. Reactivity (响应式)</h2> <h3 id="基于-signal-的实现"><a href="#基于-signal-的实现" class="header-anchor">#</a> 基于 Signal 的实现</h3> <p>Qwik 使用 Signal 概念实现响应式：</p> <ul><li><strong>响应式触发</strong></li> <li><strong>可缓存</strong></li> <li><strong>无需频繁重渲染整个组件</strong></li></ul> <p>官方描述：<code>useState + useRef + useMemo - 重渲染</code></p> <p>类似 Vue 的响应式实现。</p> <h3 id="signal-vs-传统状态管理"><a href="#signal-vs-传统状态管理" class="header-anchor">#</a> Signal vs 传统状态管理</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 传统 React 方式</span>
<span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Count<span class="token operator">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        Increment
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Qwik Signal 方式</span>
<span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">useSignal</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Count<span class="token operator">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick$<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> count<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        Increment
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="响应式的优势"><a href="#响应式的优势" class="header-anchor">#</a> 响应式的优势</h3> <ol><li><strong>精确更新</strong>: 只更新变化的 DOM 节点</li> <li><strong>性能优化</strong>: 避免不必要的重渲染</li> <li><strong>内存效率</strong>: 减少组件实例的创建和销毁</li></ol> <h2 id="三大核心思想的协作"><a href="#三大核心思想的协作" class="header-anchor">#</a> 三大核心思想的协作</h2> <p>这三个核心思想相互配合，形成了 Qwik 独特的架构：</p> <div class="language-mermaid extra-class"><pre class="language-mermaid"><code><span class="token keyword">graph</span> TB
    A<span class="token text string">[Resumable]</span> <span class="token arrow operator">--&gt;</span> D<span class="token text string">[极致性能]</span>
    B<span class="token text string">[Progressive]</span> <span class="token arrow operator">--&gt;</span> D
    C<span class="token text string">[Reactivity]</span> <span class="token arrow operator">--&gt;</span> D
    
    A <span class="token arrow operator">--&gt;</span> E<span class="token text string">[无需水合]</span>
    B <span class="token arrow operator">--&gt;</span> F<span class="token text string">[按需加载]</span>
    C <span class="token arrow operator">--&gt;</span> G<span class="token text string">[精确更新]</span>
    
    E <span class="token arrow operator">--&gt;</span> H<span class="token text string">[首屏即可用]</span>
    F <span class="token arrow operator">--&gt;</span> H
    G <span class="token arrow operator">--&gt;</span> H
</code></pre></div><h3 id="实际应用示例"><a href="#实际应用示例" class="header-anchor">#</a> 实际应用示例</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 一个完整的 Qwik 组件示例</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> component$<span class="token punctuation">,</span> useStore<span class="token punctuation">,</span> useSignal <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@builder.io/qwik'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">component$</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 使用 useStore 创建响应式状态</span>
  <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">useSignal</span><span class="token punctuation">(</span><span class="token string">'World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello <span class="token punctuation">{</span>name<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Count<span class="token operator">:</span> <span class="token punctuation">{</span>store<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      
      <span class="token punctuation">{</span><span class="token comment">/* onClick$ 表示这个函数会被拆分到单独的 chunk */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>button onClick$<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        Increment
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      
      <span class="token punctuation">{</span><span class="token comment">/* 复杂逻辑也会被懒加载 */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>button onClick$<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 这个函数会被编译成单独的 chunk</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">expensiveCalculation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        Calculate
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 这个函数会被自动拆分</span>
<span class="token keyword">function</span> <span class="token function">expensiveCalculation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 复杂计算逻辑</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <p><strong>下一步</strong>: 深入了解 <a href="/matt-blog/pages/qwik/qwik-principles.html">Qwik 原理</a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/matt-blog/pages/qwik/" class="prev router-link-active">
        Qwik 框架学习指南
      </a></span> <span class="next"><a href="/matt-blog/pages/qwik/qwik-extension-tools.html">
        Qwik 拓展工具
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/matt-blog/assets/js/app.71e86090.js" defer></script><script src="/matt-blog/assets/js/2.778bb4ad.js" defer></script><script src="/matt-blog/assets/js/1.f8bb34da.js" defer></script><script src="/matt-blog/assets/js/31.1d76566f.js" defer></script>
  </body>
</html>
