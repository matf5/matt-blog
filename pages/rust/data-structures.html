<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Rust æ•°æ®ç»“æ„ | mattçš„å‰ç«¯ä¹‹è·¯</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/matt-blog/cainiao.jpg">
    <meta name="description" content="mattçš„å‰ç«¯ä¹‹è·¯">
    
    <link rel="preload" href="/matt-blog/assets/css/0.styles.67df34d8.css" as="style"><link rel="preload" href="/matt-blog/assets/js/app.6fd40453.js" as="script"><link rel="preload" href="/matt-blog/assets/js/2.778bb4ad.js" as="script"><link rel="preload" href="/matt-blog/assets/js/1.f8bb34da.js" as="script"><link rel="preload" href="/matt-blog/assets/js/43.71b2a69e.js" as="script"><link rel="prefetch" href="/matt-blog/assets/js/10.fde088a2.js"><link rel="prefetch" href="/matt-blog/assets/js/11.c62b6b34.js"><link rel="prefetch" href="/matt-blog/assets/js/12.27d4f152.js"><link rel="prefetch" href="/matt-blog/assets/js/13.3f3f6a36.js"><link rel="prefetch" href="/matt-blog/assets/js/14.eb7a3d07.js"><link rel="prefetch" href="/matt-blog/assets/js/15.114dfd5c.js"><link rel="prefetch" href="/matt-blog/assets/js/16.85253907.js"><link rel="prefetch" href="/matt-blog/assets/js/17.c2838453.js"><link rel="prefetch" href="/matt-blog/assets/js/18.3256f17f.js"><link rel="prefetch" href="/matt-blog/assets/js/19.d8afd0ae.js"><link rel="prefetch" href="/matt-blog/assets/js/20.0d880388.js"><link rel="prefetch" href="/matt-blog/assets/js/21.33b300c9.js"><link rel="prefetch" href="/matt-blog/assets/js/22.b7c97fbe.js"><link rel="prefetch" href="/matt-blog/assets/js/23.0208c9e9.js"><link rel="prefetch" href="/matt-blog/assets/js/24.c4e74665.js"><link rel="prefetch" href="/matt-blog/assets/js/25.aa27a990.js"><link rel="prefetch" href="/matt-blog/assets/js/26.e67ada35.js"><link rel="prefetch" href="/matt-blog/assets/js/27.dbbbf5b5.js"><link rel="prefetch" href="/matt-blog/assets/js/28.ba9ea30b.js"><link rel="prefetch" href="/matt-blog/assets/js/29.e49b5b27.js"><link rel="prefetch" href="/matt-blog/assets/js/3.af33e5d6.js"><link rel="prefetch" href="/matt-blog/assets/js/30.7ad62b06.js"><link rel="prefetch" href="/matt-blog/assets/js/31.b9133bb6.js"><link rel="prefetch" href="/matt-blog/assets/js/32.cc9bfe20.js"><link rel="prefetch" href="/matt-blog/assets/js/33.68440cd5.js"><link rel="prefetch" href="/matt-blog/assets/js/34.93852412.js"><link rel="prefetch" href="/matt-blog/assets/js/35.5a92ef5d.js"><link rel="prefetch" href="/matt-blog/assets/js/36.8def4850.js"><link rel="prefetch" href="/matt-blog/assets/js/37.32f365b8.js"><link rel="prefetch" href="/matt-blog/assets/js/38.bec45084.js"><link rel="prefetch" href="/matt-blog/assets/js/39.33c7f103.js"><link rel="prefetch" href="/matt-blog/assets/js/4.45665f8a.js"><link rel="prefetch" href="/matt-blog/assets/js/40.a7f45656.js"><link rel="prefetch" href="/matt-blog/assets/js/41.43836462.js"><link rel="prefetch" href="/matt-blog/assets/js/42.cbb07fdf.js"><link rel="prefetch" href="/matt-blog/assets/js/44.e950e201.js"><link rel="prefetch" href="/matt-blog/assets/js/45.9c0f0dc6.js"><link rel="prefetch" href="/matt-blog/assets/js/46.ad02e6b0.js"><link rel="prefetch" href="/matt-blog/assets/js/47.3055cd76.js"><link rel="prefetch" href="/matt-blog/assets/js/48.fd7d21ae.js"><link rel="prefetch" href="/matt-blog/assets/js/49.b8fb6e74.js"><link rel="prefetch" href="/matt-blog/assets/js/5.7098d77a.js"><link rel="prefetch" href="/matt-blog/assets/js/50.dfe09eaf.js"><link rel="prefetch" href="/matt-blog/assets/js/51.14d77a02.js"><link rel="prefetch" href="/matt-blog/assets/js/52.f7e685a5.js"><link rel="prefetch" href="/matt-blog/assets/js/53.acaab34e.js"><link rel="prefetch" href="/matt-blog/assets/js/54.c052fd27.js"><link rel="prefetch" href="/matt-blog/assets/js/55.86ca8e2e.js"><link rel="prefetch" href="/matt-blog/assets/js/56.fde7723e.js"><link rel="prefetch" href="/matt-blog/assets/js/6.0c0a0f39.js"><link rel="prefetch" href="/matt-blog/assets/js/7.6a854e57.js"><link rel="prefetch" href="/matt-blog/assets/js/vendors~docsearch.5e19b665.js">
    <link rel="stylesheet" href="/matt-blog/assets/css/0.styles.67df34d8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/matt-blog/" class="home-link router-link-active"><img src="/matt-blog/cainiao.jpg" alt="mattçš„å‰ç«¯ä¹‹è·¯" class="logo"> <span class="site-name can-hide">mattçš„å‰ç«¯ä¹‹è·¯</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>hybrid</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mini-program</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>è®¡ç®—æœºç½‘ç»œ</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>performance</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>é¡¹ç›®ç»éªŒå‰–æ</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>qwik</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react-native</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>rust</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/matt-blog/pages/rust/" aria-current="page" class="sidebar-link">Rust å­¦ä¹ ä¹‹è·¯</a></li><li><a href="/matt-blog/pages/rust/basic-syntax.html" class="sidebar-link">Rust åŸºç¡€è¯­æ³•</a></li><li><a href="/matt-blog/pages/rust/collections.html" class="sidebar-link">é›†åˆç±»å‹</a></li><li><a href="/matt-blog/pages/rust/data-structures.html" aria-current="page" class="active sidebar-link">æ•°æ®ç»“æ„</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/matt-blog/pages/rust/data-structures.html#ğŸ“‹-æœ¬ç« å†…å®¹" class="sidebar-link">ğŸ“‹ æœ¬ç« å†…å®¹</a></li><li class="sidebar-sub-header"><a href="/matt-blog/pages/rust/data-structures.html#ç»“æ„ä½“-struct" class="sidebar-link">ç»“æ„ä½“ï¼ˆStructï¼‰</a></li><li class="sidebar-sub-header"><a href="/matt-blog/pages/rust/data-structures.html#è°ƒè¯•è¾“å‡º" class="sidebar-link">è°ƒè¯•è¾“å‡º</a></li><li class="sidebar-sub-header"><a href="/matt-blog/pages/rust/data-structures.html#æ–¹æ³•è¯­æ³•" class="sidebar-link">æ–¹æ³•è¯­æ³•</a></li><li class="sidebar-sub-header"><a href="/matt-blog/pages/rust/data-structures.html#æšä¸¾-enum" class="sidebar-link">æšä¸¾ï¼ˆEnumï¼‰</a></li><li class="sidebar-sub-header"><a href="/matt-blog/pages/rust/data-structures.html#option-æšä¸¾" class="sidebar-link">Option æšä¸¾</a></li><li class="sidebar-sub-header"><a href="/matt-blog/pages/rust/data-structures.html#æ¨¡å¼åŒ¹é…" class="sidebar-link">æ¨¡å¼åŒ¹é…</a></li><li class="sidebar-sub-header"><a href="/matt-blog/pages/rust/data-structures.html#æ§åˆ¶æµä¸æ¨¡å¼" class="sidebar-link">æ§åˆ¶æµä¸æ¨¡å¼</a></li><li class="sidebar-sub-header"><a href="/matt-blog/pages/rust/data-structures.html#ğŸ’¡-å…³é”®è¦ç‚¹" class="sidebar-link">ğŸ’¡ å…³é”®è¦ç‚¹</a></li><li class="sidebar-sub-header"><a href="/matt-blog/pages/rust/data-structures.html#ğŸ¯-å®è·µå»ºè®®" class="sidebar-link">ğŸ¯ å®è·µå»ºè®®</a></li><li class="sidebar-sub-header"><a href="/matt-blog/pages/rust/data-structures.html#ğŸ”—-ç›¸å…³é“¾æ¥" class="sidebar-link">ğŸ”— ç›¸å…³é“¾æ¥</a></li></ul></li><li><a href="/matt-blog/pages/rust/error-handling.html" class="sidebar-link">é”™è¯¯å¤„ç†</a></li><li><a href="/matt-blog/pages/rust/functional-programming.html" class="sidebar-link">å‡½æ•°å¼ç¼–ç¨‹</a></li><li><a href="/matt-blog/pages/rust/generics-and-traits.html" class="sidebar-link">æ³›å‹ä¸ç‰¹å¾</a></li><li><a href="/matt-blog/pages/rust/ownership.html" class="sidebar-link">æ‰€æœ‰æƒç³»ç»Ÿ</a></li><li><a href="/matt-blog/pages/rust/smart-pointers.html" class="sidebar-link">æ™ºèƒ½æŒ‡é’ˆ</a></li><li><a href="/matt-blog/pages/rust/tools-and-project.html" class="sidebar-link">å·¥å…·ä¸é¡¹ç›®ç®¡ç†</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vueå­¦ä¹ </span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpackå­¦ä¹ </span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>xiaochengxu</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="rust-æ•°æ®ç»“æ„"><a href="#rust-æ•°æ®ç»“æ„" class="header-anchor">#</a> Rust æ•°æ®ç»“æ„</h1> <p>Rust æä¾›äº†å¤šç§æ•°æ®ç»“æ„æ¥ç»„ç»‡å’Œç®¡ç†æ•°æ®ï¼Œä¸»è¦åŒ…æ‹¬ç»“æ„ä½“ï¼ˆstructï¼‰å’Œæšä¸¾ï¼ˆenumï¼‰ã€‚</p> <h2 id="ğŸ“‹-æœ¬ç« å†…å®¹"><a href="#ğŸ“‹-æœ¬ç« å†…å®¹" class="header-anchor">#</a> ğŸ“‹ æœ¬ç« å†…å®¹</h2> <ul><li><a href="#%E7%BB%93%E6%9E%84%E4%BD%93struct">ç»“æ„ä½“ï¼ˆStructï¼‰</a></li> <li><a href="#%E6%96%B9%E6%B3%95%E8%AF%AD%E6%B3%95">æ–¹æ³•è¯­æ³•</a></li> <li><a href="#%E6%9E%9A%E4%B8%BEenum">æšä¸¾ï¼ˆEnumï¼‰</a></li> <li><a href="#%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D">æ¨¡å¼åŒ¹é…</a></li> <li><a href="#%E6%8E%A7%E5%88%B6%E6%B5%81%E4%B8%8E%E6%A8%A1%E5%BC%8F">æ§åˆ¶æµä¸æ¨¡å¼</a></li></ul> <h2 id="ç»“æ„ä½“-struct"><a href="#ç»“æ„ä½“-struct" class="header-anchor">#</a> ç»“æ„ä½“ï¼ˆStructï¼‰</h2> <p>ç»“æ„ä½“ï¼ˆstructureï¼‰æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œå…è®¸ä½ å‘½åå’ŒåŒ…è£…å¤šä¸ªç›¸å…³çš„å€¼ï¼Œä»è€Œå½¢æˆä¸€ä¸ªæœ‰æ„ä¹‰çš„ç»„åˆã€‚</p> <h3 id="å®šä¹‰ç»“æ„ä½“"><a href="#å®šä¹‰ç»“æ„ä½“" class="header-anchor">#</a> å®šä¹‰ç»“æ„ä½“</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">struct</span> <span class="token type-definition class-name">User</span> <span class="token punctuation">{</span>
    active<span class="token punctuation">:</span> <span class="token keyword">bool</span><span class="token punctuation">,</span>
    username<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    sign_in_count<span class="token punctuation">:</span> <span class="token keyword">u64</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="åˆ›å»ºç»“æ„ä½“å®ä¾‹"><a href="#åˆ›å»ºç»“æ„ä½“å®ä¾‹" class="header-anchor">#</a> åˆ›å»ºç»“æ„ä½“å®ä¾‹</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> user1 <span class="token operator">=</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
        email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;someone@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        username<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;someusername123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        active<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        sign_in_count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ä½¿ç”¨ç»“æ„ä½“"><a href="#ä½¿ç”¨ç»“æ„ä½“" class="header-anchor">#</a> ä½¿ç”¨ç»“æ„ä½“</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> user1 <span class="token operator">=</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
        email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;someone@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        username<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;someusername123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        active<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        sign_in_count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    user1<span class="token punctuation">.</span>email <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;anotheremail@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å­—æ®µç®€å†™è¯­æ³•"><a href="#å­—æ®µç®€å†™è¯­æ³•" class="header-anchor">#</a> å­—æ®µç®€å†™è¯­æ³•</h3> <p>ç±»ä¼¼ JavaScript çš„ç®€å†™è¯­æ³•ï¼š</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">build_user</span><span class="token punctuation">(</span>email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> username<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token class-name">User</span> <span class="token punctuation">{</span>
        email<span class="token punctuation">,</span>
        username<span class="token punctuation">,</span>
        active<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        sign_in_count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ç»“æ„ä½“æ›´æ–°è¯­æ³•"><a href="#ç»“æ„ä½“æ›´æ–°è¯­æ³•" class="header-anchor">#</a> ç»“æ„ä½“æ›´æ–°è¯­æ³•</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> user1 <span class="token operator">=</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
        email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;someone@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        username<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;someusername123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        active<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        sign_in_count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> user2 <span class="token operator">=</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
        email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;another@example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">..</span>user1  <span class="token comment">// ä½¿ç”¨ user1 çš„å…¶ä»–å­—æ®µ</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// æ³¨æ„ï¼šå‘ç”Ÿäº† Moveï¼Œuser1 ä¸èƒ½å†ä½¿ç”¨äº†</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å…ƒç»„ç»“æ„ä½“"><a href="#å…ƒç»„ç»“æ„ä½“" class="header-anchor">#</a> å…ƒç»„ç»“æ„ä½“</h3> <p>æ²¡æœ‰å­—æ®µåçš„ç»“æ„ä½“ï¼š</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">struct</span> <span class="token type-definition class-name">Color</span><span class="token punctuation">(</span><span class="token keyword">i32</span><span class="token punctuation">,</span> <span class="token keyword">i32</span><span class="token punctuation">,</span> <span class="token keyword">i32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">Point</span><span class="token punctuation">(</span><span class="token keyword">i32</span><span class="token punctuation">,</span> <span class="token keyword">i32</span><span class="token punctuation">,</span> <span class="token keyword">i32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> black <span class="token operator">=</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> origin <span class="token operator">=</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å•å…ƒç»“æ„ä½“"><a href="#å•å…ƒç»“æ„ä½“" class="header-anchor">#</a> å•å…ƒç»“æ„ä½“</h3> <p>æ²¡æœ‰ä»»ä½•å­—æ®µçš„ç»“æ„ä½“ï¼š</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">struct</span> <span class="token type-definition class-name">AlwaysEqual</span><span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> subject <span class="token operator">=</span> <span class="token class-name">AlwaysEqual</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="è°ƒè¯•è¾“å‡º"><a href="#è°ƒè¯•è¾“å‡º" class="header-anchor">#</a> è°ƒè¯•è¾“å‡º</h2> <h3 id="debug-trait"><a href="#debug-trait" class="header-anchor">#</a> Debug trait</h3> <p>åœ¨ <code>{}</code> ä¸­åŠ å…¥ <code>:?</code> æŒ‡ç¤ºç¬¦å‘Šè¯‰ <code>println!</code> æˆ‘ä»¬æƒ³è¦ä½¿ç”¨å«åš <code>Debug</code> çš„è¾“å‡ºæ ¼å¼ï¼š</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">Rectangle</span> <span class="token punctuation">{</span>
    width<span class="token punctuation">:</span> <span class="token keyword">u32</span><span class="token punctuation">,</span>
    height<span class="token punctuation">:</span> <span class="token keyword">u32</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> rect1 <span class="token operator">=</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
        width<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;rect1 is {:?}&quot;</span><span class="token punctuation">,</span> rect1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;rect1 is {:#?}&quot;</span><span class="token punctuation">,</span> rect1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ›´æ¸…æ™°çš„æ ¼å¼</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="dbg-å®"><a href="#dbg-å®" class="header-anchor">#</a> dbg! å®</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">Rectangle</span> <span class="token punctuation">{</span>
    width<span class="token punctuation">:</span> <span class="token keyword">u32</span><span class="token punctuation">,</span>
    height<span class="token punctuation">:</span> <span class="token keyword">u32</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> scale <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> rect1 <span class="token operator">=</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
        width<span class="token punctuation">:</span> <span class="token macro property">dbg!</span><span class="token punctuation">(</span><span class="token number">30</span> <span class="token operator">*</span> scale<span class="token punctuation">)</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token macro property">dbg!</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rect1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="æ–¹æ³•è¯­æ³•"><a href="#æ–¹æ³•è¯­æ³•" class="header-anchor">#</a> æ–¹æ³•è¯­æ³•</h2> <h3 id="å®šä¹‰æ–¹æ³•"><a href="#å®šä¹‰æ–¹æ³•" class="header-anchor">#</a> å®šä¹‰æ–¹æ³•</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">Rectangle</span> <span class="token punctuation">{</span>
    width<span class="token punctuation">:</span> <span class="token keyword">u32</span><span class="token punctuation">,</span>
    height<span class="token punctuation">:</span> <span class="token keyword">u32</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">impl</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
    <span class="token comment">// &amp;self å®é™…ä¸Šæ˜¯ self: &amp;Self çš„ç¼©å†™</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">area</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">u32</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token keyword">self</span><span class="token punctuation">.</span>height
    <span class="token punctuation">}</span>
    
    <span class="token keyword">fn</span> <span class="token function-definition function">width</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>width <span class="token operator">&gt;</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> rect1 <span class="token operator">=</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
        width<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token macro property">println!</span><span class="token punctuation">(</span>
        <span class="token string">&quot;The area of the rectangle is {} square pixels.&quot;</span><span class="token punctuation">,</span>
        rect1<span class="token punctuation">.</span><span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å¸¦æœ‰æ›´å¤šå‚æ•°çš„æ–¹æ³•"><a href="#å¸¦æœ‰æ›´å¤šå‚æ•°çš„æ–¹æ³•" class="header-anchor">#</a> å¸¦æœ‰æ›´å¤šå‚æ•°çš„æ–¹æ³•</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">impl</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">area</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">u32</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token keyword">self</span><span class="token punctuation">.</span>height
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> <span class="token function-definition function">can_hold</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">,</span> other<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">Rectangle</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>width <span class="token operator">&gt;</span> other<span class="token punctuation">.</span>width <span class="token operator">&amp;&amp;</span> <span class="token keyword">self</span><span class="token punctuation">.</span>height <span class="token operator">&gt;</span> other<span class="token punctuation">.</span>height
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> rect1 <span class="token operator">=</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
        width<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> rect2 <span class="token operator">=</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
        width<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> rect3 <span class="token operator">=</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
        width<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> <span class="token number">45</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Can rect1 hold rect2? {}&quot;</span><span class="token punctuation">,</span> rect1<span class="token punctuation">.</span><span class="token function">can_hold</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rect2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Can rect1 hold rect3? {}&quot;</span><span class="token punctuation">,</span> rect1<span class="token punctuation">.</span><span class="token function">can_hold</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rect3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å…³è”å‡½æ•°"><a href="#å…³è”å‡½æ•°" class="header-anchor">#</a> å…³è”å‡½æ•°</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">impl</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">square</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token keyword">u32</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
        <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
            width<span class="token punctuation">:</span> size<span class="token punctuation">,</span>
            height<span class="token punctuation">:</span> size<span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> sq <span class="token operator">=</span> <span class="token class-name">Rectangle</span><span class="token punctuation">::</span><span class="token function">square</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å¤šä¸ª-impl-å—"><a href="#å¤šä¸ª-impl-å—" class="header-anchor">#</a> å¤šä¸ª impl å—</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">impl</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">area</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">u32</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token keyword">self</span><span class="token punctuation">.</span>height
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">impl</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">can_hold</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">,</span> other<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">Rectangle</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>width <span class="token operator">&gt;</span> other<span class="token punctuation">.</span>width <span class="token operator">&amp;&amp;</span> <span class="token keyword">self</span><span class="token punctuation">.</span>height <span class="token operator">&gt;</span> other<span class="token punctuation">.</span>height
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="æšä¸¾-enum"><a href="#æšä¸¾-enum" class="header-anchor">#</a> æšä¸¾ï¼ˆEnumï¼‰</h2> <p>æšä¸¾å…è®¸ä½ é€šè¿‡åˆ—ä¸¾å¯èƒ½çš„ <strong>æˆå‘˜</strong>ï¼ˆvariantsï¼‰æ¥å®šä¹‰ä¸€ä¸ªç±»å‹ã€‚</p> <h3 id="å®šä¹‰æšä¸¾"><a href="#å®šä¹‰æšä¸¾" class="header-anchor">#</a> å®šä¹‰æšä¸¾</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">enum</span> <span class="token type-definition class-name">IpAddrKind</span> <span class="token punctuation">{</span>
    <span class="token constant">V4</span><span class="token punctuation">,</span>
    <span class="token constant">V6</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> four <span class="token operator">=</span> <span class="token class-name">IpAddrKind</span><span class="token punctuation">::</span><span class="token constant">V4</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> six <span class="token operator">=</span> <span class="token class-name">IpAddrKind</span><span class="token punctuation">::</span><span class="token constant">V6</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="æšä¸¾å€¼"><a href="#æšä¸¾å€¼" class="header-anchor">#</a> æšä¸¾å€¼</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">enum</span> <span class="token type-definition class-name">IpAddr</span> <span class="token punctuation">{</span>
    <span class="token constant">V4</span><span class="token punctuation">(</span><span class="token keyword">u8</span><span class="token punctuation">,</span> <span class="token keyword">u8</span><span class="token punctuation">,</span> <span class="token keyword">u8</span><span class="token punctuation">,</span> <span class="token keyword">u8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token constant">V6</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> home <span class="token operator">=</span> <span class="token class-name">IpAddr</span><span class="token punctuation">::</span><span class="token constant">V4</span><span class="token punctuation">(</span><span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> loopback <span class="token operator">=</span> <span class="token class-name">IpAddr</span><span class="token punctuation">::</span><span class="token constant">V6</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;::1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å¤æ‚æšä¸¾"><a href="#å¤æ‚æšä¸¾" class="header-anchor">#</a> å¤æ‚æšä¸¾</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">enum</span> <span class="token type-definition class-name">Message</span> <span class="token punctuation">{</span>
    <span class="token class-name">Quit</span><span class="token punctuation">,</span>
    <span class="token class-name">Move</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token keyword">i32</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token keyword">i32</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token class-name">Write</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">ChangeColor</span><span class="token punctuation">(</span><span class="token keyword">i32</span><span class="token punctuation">,</span> <span class="token keyword">i32</span><span class="token punctuation">,</span> <span class="token keyword">i32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="æšä¸¾çš„æ–¹æ³•"><a href="#æšä¸¾çš„æ–¹æ³•" class="header-anchor">#</a> æšä¸¾çš„æ–¹æ³•</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">impl</span> <span class="token class-name">Message</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">call</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ–¹æ³•ä½“åœ¨è¿™é‡Œå®šä¹‰</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token class-name">Message</span><span class="token punctuation">::</span><span class="token class-name">Write</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="option-æšä¸¾"><a href="#option-æšä¸¾" class="header-anchor">#</a> Option æšä¸¾</h2> <p>Option æ˜¯æ ‡å‡†åº“ä¸­å®šä¹‰çš„æšä¸¾ï¼Œç”¨äºè¡¨ç¤ºå¯èƒ½çš„ç©ºå€¼ï¼š</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">enum</span> <span class="token type-definition class-name">Option</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">None</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ä½¿ç”¨-option"><a href="#ä½¿ç”¨-option" class="header-anchor">#</a> ä½¿ç”¨ Option</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> some_number <span class="token operator">=</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> some_string <span class="token operator">=</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token string">&quot;a string&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> absent_number<span class="token punctuation">:</span> <span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token keyword">i32</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token class-name">None</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="option-çš„å®‰å…¨æ€§"><a href="#option-çš„å®‰å…¨æ€§" class="header-anchor">#</a> Option çš„å®‰å…¨æ€§</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> x<span class="token punctuation">:</span> <span class="token keyword">i8</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> y<span class="token punctuation">:</span> <span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token keyword">i8</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// let sum = x + y; // é”™è¯¯ï¼ä¸èƒ½ç›´æ¥ç›¸åŠ </span>
</code></pre></div><h2 id="æ¨¡å¼åŒ¹é…"><a href="#æ¨¡å¼åŒ¹é…" class="header-anchor">#</a> æ¨¡å¼åŒ¹é…</h2> <h3 id="match-è¡¨è¾¾å¼"><a href="#match-è¡¨è¾¾å¼" class="header-anchor">#</a> match è¡¨è¾¾å¼</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">enum</span> <span class="token type-definition class-name">Coin</span> <span class="token punctuation">{</span>
    <span class="token class-name">Penny</span><span class="token punctuation">,</span>
    <span class="token class-name">Nickel</span><span class="token punctuation">,</span>
    <span class="token class-name">Dime</span><span class="token punctuation">,</span>
    <span class="token class-name">Quarter</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">value_in_cents</span><span class="token punctuation">(</span>coin<span class="token punctuation">:</span> <span class="token class-name">Coin</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">u8</span> <span class="token punctuation">{</span>
    <span class="token keyword">match</span> coin <span class="token punctuation">{</span>
        <span class="token class-name">Coin</span><span class="token punctuation">::</span><span class="token class-name">Penny</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token class-name">Coin</span><span class="token punctuation">::</span><span class="token class-name">Nickel</span> <span class="token operator">=&gt;</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token class-name">Coin</span><span class="token punctuation">::</span><span class="token class-name">Dime</span> <span class="token operator">=&gt;</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token class-name">Coin</span><span class="token punctuation">::</span><span class="token class-name">Quarter</span> <span class="token operator">=&gt;</span> <span class="token number">25</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ç»‘å®šå€¼çš„æ¨¡å¼"><a href="#ç»‘å®šå€¼çš„æ¨¡å¼" class="header-anchor">#</a> ç»‘å®šå€¼çš„æ¨¡å¼</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">enum</span> <span class="token type-definition class-name">UsState</span> <span class="token punctuation">{</span>
    <span class="token class-name">Alabama</span><span class="token punctuation">,</span>
    <span class="token class-name">Alaska</span><span class="token punctuation">,</span>
    <span class="token comment">// --snip--</span>
<span class="token punctuation">}</span>

<span class="token keyword">enum</span> <span class="token type-definition class-name">Coin</span> <span class="token punctuation">{</span>
    <span class="token class-name">Penny</span><span class="token punctuation">,</span>
    <span class="token class-name">Nickel</span><span class="token punctuation">,</span>
    <span class="token class-name">Dime</span><span class="token punctuation">,</span>
    <span class="token class-name">Quarter</span><span class="token punctuation">(</span><span class="token class-name">UsState</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">value_in_cents</span><span class="token punctuation">(</span>coin<span class="token punctuation">:</span> <span class="token class-name">Coin</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">u8</span> <span class="token punctuation">{</span>
    <span class="token keyword">match</span> coin <span class="token punctuation">{</span>
        <span class="token class-name">Coin</span><span class="token punctuation">::</span><span class="token class-name">Penny</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token class-name">Coin</span><span class="token punctuation">::</span><span class="token class-name">Nickel</span> <span class="token operator">=&gt;</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token class-name">Coin</span><span class="token punctuation">::</span><span class="token class-name">Dime</span> <span class="token operator">=&gt;</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token class-name">Coin</span><span class="token punctuation">::</span><span class="token class-name">Quarter</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;State quarter from {:?}!&quot;</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token number">25</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="åŒ¹é…-option"><a href="#åŒ¹é…-option" class="header-anchor">#</a> åŒ¹é… Option<T></T></h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">plus_one</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token keyword">i32</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token keyword">i32</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">match</span> x <span class="token punctuation">{</span>
        <span class="token class-name">None</span> <span class="token operator">=&gt;</span> <span class="token class-name">None</span><span class="token punctuation">,</span>
        <span class="token class-name">Some</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> five <span class="token operator">=</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> six <span class="token operator">=</span> <span class="token function">plus_one</span><span class="token punctuation">(</span>five<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> none <span class="token operator">=</span> <span class="token function">plus_one</span><span class="token punctuation">(</span><span class="token class-name">None</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="é€šé…æ¨¡å¼"><a href="#é€šé…æ¨¡å¼" class="header-anchor">#</a> é€šé…æ¨¡å¼</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> dice_roll <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
<span class="token keyword">match</span> dice_roll <span class="token punctuation">{</span>
    <span class="token number">3</span> <span class="token operator">=&gt;</span> <span class="token function">add_fancy_hat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token number">7</span> <span class="token operator">=&gt;</span> <span class="token function">remove_fancy_hat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    other <span class="token operator">=&gt;</span> <span class="token function">move_player</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// æ•è·æ‰€æœ‰å…¶ä»–å€¼</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">add_fancy_hat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">fn</span> <span class="token function-definition function">remove_fancy_hat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">fn</span> <span class="token function-definition function">move_player</span><span class="token punctuation">(</span>num_spaces<span class="token punctuation">:</span> <span class="token keyword">u8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="ä½¿ç”¨-å ä½ç¬¦"><a href="#ä½¿ç”¨-å ä½ç¬¦" class="header-anchor">#</a> ä½¿ç”¨ <code>_</code> å ä½ç¬¦</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> dice_roll <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
<span class="token keyword">match</span> dice_roll <span class="token punctuation">{</span>
    <span class="token number">3</span> <span class="token operator">=&gt;</span> <span class="token function">add_fancy_hat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token number">7</span> <span class="token operator">=&gt;</span> <span class="token function">remove_fancy_hat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    _ <span class="token operator">=&gt;</span> <span class="token function">reroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// å¿½ç•¥å…¶ä»–å€¼</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">add_fancy_hat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">fn</span> <span class="token function-definition function">remove_fancy_hat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">fn</span> <span class="token function-definition function">reroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="æ§åˆ¶æµä¸æ¨¡å¼"><a href="#æ§åˆ¶æµä¸æ¨¡å¼" class="header-anchor">#</a> æ§åˆ¶æµä¸æ¨¡å¼</h2> <h3 id="if-let-è¯­æ³•"><a href="#if-let-è¯­æ³•" class="header-anchor">#</a> if let è¯­æ³•</h3> <p><code>if let</code> è¯­æ³•è®©ä½ ä»¥ä¸€ç§ä¸é‚£ä¹ˆå†—é•¿çš„æ–¹å¼ç»“åˆ <code>if</code> å’Œ <code>let</code>ï¼š</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> config_max <span class="token operator">=</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token number">3u8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">match</span> config_max <span class="token punctuation">{</span>
    <span class="token class-name">Some</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;The maximum is configured to be {}&quot;</span><span class="token punctuation">,</span> max<span class="token punctuation">)</span><span class="token punctuation">,</span>
    _ <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç­‰ä»·äº</span>
<span class="token keyword">if</span> <span class="token keyword">let</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span> <span class="token operator">=</span> config_max <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;The maximum is configured to be {}&quot;</span><span class="token punctuation">,</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="if-let-ä¸-else"><a href="#if-let-ä¸-else" class="header-anchor">#</a> if let ä¸ else</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> <span class="token keyword">mut</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token keyword">let</span> <span class="token class-name">Coin</span><span class="token punctuation">::</span><span class="token class-name">Quarter</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=</span> coin <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;State quarter from {:?}!&quot;</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="while-let-å¾ªç¯"><a href="#while-let-å¾ªç¯" class="header-anchor">#</a> while let å¾ªç¯</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> <span class="token keyword">mut</span> stack <span class="token operator">=</span> <span class="token class-name">Vec</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token keyword">let</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>top<span class="token punctuation">)</span> <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;{}&quot;</span><span class="token punctuation">,</span> top<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="for-å¾ªç¯ä¸­çš„æ¨¡å¼"><a href="#for-å¾ªç¯ä¸­çš„æ¨¡å¼" class="header-anchor">#</a> for å¾ªç¯ä¸­çš„æ¨¡å¼</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span><span class="token char">'a'</span><span class="token punctuation">,</span> <span class="token char">'b'</span><span class="token punctuation">,</span> <span class="token char">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>index<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token keyword">in</span> v<span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enumerate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;{} is at index {}&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="let-è¯­å¥ä¸­çš„æ¨¡å¼"><a href="#let-è¯­å¥ä¸­çš„æ¨¡å¼" class="header-anchor">#</a> let è¯­å¥ä¸­çš„æ¨¡å¼</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å‡½æ•°å‚æ•°ä¸­çš„æ¨¡å¼"><a href="#å‡½æ•°å‚æ•°ä¸­çš„æ¨¡å¼" class="header-anchor">#</a> å‡½æ•°å‚æ•°ä¸­çš„æ¨¡å¼</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">print_coordinates</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token keyword">i32</span><span class="token punctuation">,</span> <span class="token keyword">i32</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Current location: ({}, {})&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> point <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">print_coordinates</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ğŸ’¡-å…³é”®è¦ç‚¹"><a href="#ğŸ’¡-å…³é”®è¦ç‚¹" class="header-anchor">#</a> ğŸ’¡ å…³é”®è¦ç‚¹</h2> <ol><li><strong>ç»“æ„ä½“é€‚åˆç»„ç»‡ç›¸å…³æ•°æ®</strong>ï¼šå°†ç›¸å…³çš„æ•°æ®ç»„ç»‡åœ¨ä¸€èµ·</li> <li><strong>æ–¹æ³•å®šä¹‰è¡Œä¸º</strong>ï¼šé€šè¿‡ <code>impl</code> å—ä¸ºç»“æ„ä½“æ·»åŠ æ–¹æ³•</li> <li><strong>æšä¸¾è¡¨ç¤ºé€‰æ‹©</strong>ï¼šç”¨äºè¡¨ç¤ºä¸€ä¸ªå€¼å¯èƒ½æ˜¯å‡ ç§å¯èƒ½ä¹‹ä¸€</li> <li><strong>Option å¤„ç†ç©ºå€¼</strong>ï¼šRust çš„ç©ºå€¼å®‰å…¨æœºåˆ¶</li> <li><strong>æ¨¡å¼åŒ¹é…æ˜¯å¼ºå¤§çš„</strong>ï¼šmatch è¡¨è¾¾å¼æä¾›äº†å¼ºå¤§çš„æ§åˆ¶æµ</li> <li><strong>ç¼–è¯‘æ—¶æ£€æŸ¥</strong>ï¼šRust ç¡®ä¿æ‰€æœ‰å¯èƒ½çš„æƒ…å†µéƒ½è¢«å¤„ç†</li></ol> <h2 id="ğŸ¯-å®è·µå»ºè®®"><a href="#ğŸ¯-å®è·µå»ºè®®" class="header-anchor">#</a> ğŸ¯ å®è·µå»ºè®®</h2> <ol><li><strong>ä½¿ç”¨ç»“æ„ä½“ç»„ç»‡ç›¸å…³æ•°æ®</strong></li> <li><strong>ä¸ºç»“æ„ä½“å®ç°æœ‰æ„ä¹‰çš„æ–¹æ³•</strong></li> <li><strong>åˆ©ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€æˆ–é€‰æ‹©</strong></li> <li><strong>ç”¨ Option æ›¿ä»£ç©ºå€¼</strong></li> <li><strong>ä½¿ç”¨æ¨¡å¼åŒ¹é…å¤„ç†ä¸åŒæƒ…å†µ</strong></li> <li><strong>åˆ©ç”¨ <code>if let</code> ç®€åŒ–å•ä¸€åŒ¹é…</strong></li></ol> <h2 id="ğŸ”—-ç›¸å…³é“¾æ¥"><a href="#ğŸ”—-ç›¸å…³é“¾æ¥" class="header-anchor">#</a> ğŸ”— ç›¸å…³é“¾æ¥</h2> <ul><li><strong>ä¸Šä¸€ç« </strong>: <a href="/matt-blog/pages/rust/ownership.html">æ‰€æœ‰æƒç³»ç»Ÿ</a></li> <li><strong>ä¸‹ä¸€ç« </strong>: <a href="/matt-blog/pages/rust/collections.html">é›†åˆç±»å‹</a></li> <li><strong>ç›¸å…³æ¦‚å¿µ</strong>: <a href="/matt-blog/pages/rust/generics-and-traits.html">æ³›å‹ä¸ç‰¹å¾</a></li></ul> <hr> <p><a href="/matt-blog/pages/rust/" class="router-link-active">è¿”å›ç´¢å¼•</a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/matt-blog/pages/rust/collections.html" class="prev">
        é›†åˆç±»å‹
      </a></span> <span class="next"><a href="/matt-blog/pages/rust/error-handling.html">
        é”™è¯¯å¤„ç†
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/matt-blog/assets/js/app.6fd40453.js" defer></script><script src="/matt-blog/assets/js/2.778bb4ad.js" defer></script><script src="/matt-blog/assets/js/1.f8bb34da.js" defer></script><script src="/matt-blog/assets/js/43.71b2a69e.js" defer></script>
  </body>
</html>
